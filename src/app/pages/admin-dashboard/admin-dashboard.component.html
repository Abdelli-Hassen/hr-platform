<div class="admin-layout">
  <!-- Sidebar hidden, using global navbar -->
  <aside class="sidebar" aria-hidden="true"></aside>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Top Bar -->
    <div class="top-bar">
      <h1>Bienvenue, {{ currentUser?.firstName }}!</h1>
      <div class="user-info">
        <span class="user-badge">Admin</span>
      </div>
    </div>

    <!-- Dashboard Content -->
    <div class="dashboard-content" *ngIf="!loading">
      <!-- Stats Cards -->
      <div class="stats-grid" *ngIf="stats">
        <div class="stat-card stat-total-employees">
          <div class="stat-icon">ðŸ‘¥</div>
          <div class="stat-details">
            <p class="stat-label">Total EmployÃ©s</p>
            <p class="stat-value">{{ stats.totalEmployees }}</p>
          </div>
        </div>

        <div class="stat-card stat-active-employees">
          <div class="stat-icon">âœ…</div>
          <div class="stat-details">
            <p class="stat-label">EmployÃ©s Actifs</p>
            <p class="stat-value">{{ stats.activeEmployees }}</p>
          </div>
        </div>

        <div class="stat-card stat-payroll">
          <div class="stat-icon">ðŸ’µ</div>
          <div class="stat-details">
            <p class="stat-label">Masse Salariale</p>
            <p class="stat-value">{{ formatCurrency(stats.totalPayroll) }}</p>
          </div>
        </div>

        <div class="stat-card stat-leaves">
          <div class="stat-icon">ðŸ“‹</div>
          <div class="stat-details">
            <p class="stat-label">CongÃ©s En Attente</p>
            <p class="stat-value">{{ stats.pendingLeaves }}</p>
          </div>
        </div>

        <div class="stat-card stat-jobs">
          <div class="stat-icon">ðŸ’¼</div>
          <div class="stat-details">
            <p class="stat-label">Offres Ouvertes</p>
            <p class="stat-value">{{ stats.openPositions }}</p>
          </div>
        </div>

        <div class="stat-card stat-candidates">
          <div class="stat-icon">ðŸŽ¯</div>
          <div class="stat-details">
            <p class="stat-label">Nouveaux Candidats</p>
            <p class="stat-value">{{ stats.newCandidates }}</p>
          </div>
        </div>
      </div>

      <!-- Recent Employees -->
      <div class="recent-section">
        <h2>Derniers EmployÃ©s AjoutÃ©s</h2>
        <div class="employees-card-grid">
          <div *ngFor="let emp of recentEmployees" class="employee-mini-card">
            <div class="card-header">
              <div class="employee-avatar">{{ (emp.firstName.charAt(0) + emp.lastName.charAt(0)).toUpperCase() }}</div>
              <div class="employee-info">
                <h3>{{ emp.firstName }} {{ emp.lastName }}</h3>
                <p>{{ emp.jobTitle }}</p>
              </div>
            </div>
            <div class="card-body">
              <div class="info-item">
                <span class="label">Email:</span>
                <span class="value">{{ emp.email }}</span>
              </div>
              <div class="info-item">
                <span class="label">DÃ©partement:</span>
                <span class="value">{{ emp.departmentName }}</span>
              </div>
              <div class="info-item">
                <span class="label">Salaire:</span>
                <span class="value">{{ formatCurrency(emp.salary) }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="loading" class="loading">
      <p>Chargement...</p>
    </div>
  </main>
</div>
